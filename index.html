<!DOCTYPE html>
<script src='bower_components/threejs/build/three.js'></script>
<script src="vendor/require.js/require.js"></script>
<script src="vendor/three.js/examples/js/Detector.js"></script>
<script src="vendor/threex.windowresize.js"></script>
<script src="shapes/cone.js"></script>
<script src="models/Wheel.js"></script>
<script src="models/SwingArm.js"></script>
<script src="models/SwingFrame.js"></script>
<style>
    #graphicsbox {
        margin: 0px;
        position: static; /* fixed or static */
        text-align: center;
    }
</style>
<body>

<script src="main.js"></script>

<script id="vs0" type="x-shader/x-vertex">
/* VERTEX SHADER */
//varying vec4 col;
varying vec3 my_pos;

/* texture coord in THREE.js is "uv" */
varying vec2 my_uv;

void main()
{
    my_pos = position;
    my_uv = uv; /* init from default attrib "uv" */
    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
</script>

<script id="fs0" type="x-shader/x-fragment">
/* FRAGMENT SHADER */
//precision mediump float;
//varying vec4 col;
varying vec3 my_pos;
uniform vec4 color_dark;
uniform sampler2D marb_tex;

varying vec2 my_uv;

void main()
{
    if (my_pos.z > 0.0) {
        if (my_pos.x * my_pos.y < 0.0)
           gl_FragColor = color_dark;
        else
           gl_FragColor = vec4 (0.0, 1.0, 0.2, 1.0);
    }
    else {
        gl_FragColor = texture2D (marb_tex, my_uv);
    }
}
</script>

<div id="graphicsbox"></div>

</body>
